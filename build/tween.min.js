!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["mojs-tween"]=e():t["mojs-tween"]=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="build/",e(e.s=5)}([function(t,e,n){var i,s,r,i,s,r;!function(n,o){s=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(e){"use strict";!function(n,o){s=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=[],n=[],i=!1,s=function(){n=e.slice(0);for(var t=0;t<n.length;t++)n[t].pause()},r=function(){for(var t=0;t<n.length;t++)n[t].play()},o=function(){document.hidden?s():r()},u=function(){e.length=0,i=!1},a=function(t){var n="number"==typeof t?t:e.indexOf(t);-1!==n&&e.splice(n,1)},p=function(t){for(var n=e.length;n--;){var i=e[n];!0===i.update(t)&&(a(i),i.onTweenerFinish())}},c=function(){if(0===e.length)return u();p(performance.now()),requestAnimationFrame(c)},f=function(){i||(i=!0,requestAnimationFrame(c))},h=function(t){e.push(t),f()},_=function(){document.removeEventListener("visibilitychange",o,!1)};document.addEventListener("visibilitychange",o,!1);var l={add:h,remove:a,caffeinate:_};t.tweener=l})})},function(t,e,n){var i,s,r,i,s,r;!function(n,o){s=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(e){"use strict";!function(n,o){s=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={delay:0,duration:350,speed:1,easing:"Sin.Out",backwardEasing:null,isReverse:!1,repeat:0,isReverseOnRepeat:!1,onUpdate:function(t,e,n){},onStart:function(){},onComplete:function(){},onChimeIn:function(){},onChimeOut:function(){},onRefresh:function(){},onPlaybackStart:function(){},onPlaybackPause:function(){},onPlaybackStop:function(){},onPlaybackComplete:function(){},index:0,shiftTime:0};t.tweenDefaults=e})})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="build/",e(e.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){var i,s,r,i,s,r;!function(n,o){s=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(e){"use strict";!function(n,o){s=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=t.isStaggerMap=function(t){return t instanceof Array&&t.__mojs__isStaggerMap},n=t.isStaggerFunction=function(t){return"function"==typeof t&&t.__mojs__isStaggerFunction},i=t.parseStaggerProperty=function(t,s,r){return e(t)&&(t=t[s%t.length]),n(t)&&(t=t(s,r)),e(t)||n(t)?i(t,s,r):t};t.default=i})})}])})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="build/",e(e.s=2)}([function(t,e,n){var i,s,r,i,s,r;!function(n,o){s=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(e){"use strict";!function(n,o){s=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),e},n=function(t,e){for(var n=1/e,i=t.getTotalLength(),s=[],r=0;r<e+1;r++){var o=t.getPointAtLength(r*n*i);s[r]={x:o.x/100,y:o.y/100}}return s},i=function(t,e,n){for(var i=0,s=e.length-1,r=1/n;Math.abs(s-i)>1;){var o=s-i,u=i+Math.floor(o/2),a=e[u];if(t===a.x)return a.y;t<a.x?s=u:i=u}var p=e[i];if(t>p.x){var c=e[i+1];if(void 0!==c){var f=p.x-t;return p.y-(c.y-p.y)*(f/r)}}return p.y},s=function(t,e){for(var n=new Map,s=1/e,r=0;r<e+1;r++){var o=r*s;n.set(o,1-i(o,t,e))}return n},r=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=n(e(t),i),o=s(r,i),u=1/i;return function(t){var e=t/u|0,n=e*u,i=(e+1)*u,s=o.get(n);if(i<=1){var r=o.get(i);s+=(t-n)/u*(r-s)}return s}};t.path=r})})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="build/",e(e.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){var i,s,r,i,s,r;!function(n,o){s=[t,e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t,e){"use strict";!function(n,o){s=[t,e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=function(t){return function(e){return Math.pow(e,t)}}(t),n=function(t){return function(e){return 1-Math.abs(Math.pow(e-1,t))}}(t);return{in:e,out:n,inout:function(t){return t<.5?e(2*t)/2:n(2*t-1)/2+.5}}};e.default=n,t.exports=e.default})})}])})},function(t,e,n){t.exports=n(3)},function(t,e,n){var i,s,r,i,s,r;!function(o,u){s=[t,e,n(1),n(0)],i=u,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t,e){"use strict";!function(o,u){s=[t,e,n(1),n(0)],i=u,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t,e,n,i){Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return t&&t.__esModule?t:{default:t}}(n),r=["sin","out"],o=r.join("."),u={linear:{none:function(t){return t}},sin:{in:function(t){return 1-Math.cos(t*Math.PI/2)},out:function(t){return Math.sin(t*Math.PI/2)},inout:function(t){return.5*(1-Math.cos(Math.PI*t))}},pow:s.default,path:i.path,parseEasing:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;switch(typeof t){case"function":return t;case"string":if("m"===t[0].toLowerCase())return(0,i.path)(t);t=t.toLowerCase().split(".");var e=u[t[0]];return e?e[t[1]]:(console.error(':mojs : Easing with name "'+t[0]+'" wasn\'t found, fallback to "'+o+'" instead.',u),u[r[0]][r[1]]);default:console.error(":mojs : Only strings and function supported atm.",t)}}};e.default=u,t.exports=e.default})})}])})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="build/",e(e.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){var i,s,r,i,s,r;!function(n,o){s=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(e){"use strict";!function(n,o){s=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},n=t.createClass=function(t){var e=function(e){var n=Object.create(t),i=n.init(e);return void 0!==i?i:n};return e.__mojsClass=t,e},i=(t.extendClass=function(t){return Object.create(t.__mojsClass)},{});i.get=function(t){return this._props[t]},i.set=function(t,e){return this._props[t]=e,this},i.setBatch=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.keys(t),n=0;n<e.length;n++){var i=e[n];this._props[i]=t[i]}return this},i.setIfNotSet=function(t,e){return void 0===this._o[t]&&this.set(t,e),this},i.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._o=e({},t),this.index=this._o.index||0,delete this._o.index,this._totalItemsInStagger=this._o.totalItemsInStagger||1,delete this._o.totalItemsInStagger,this._declareDefaults(),this._extendDefaults(),this._vars()},i._declareDefaults=function(){this._defaults={}},i._extendDefaults=function(){this._props=e({},this._defaults);for(var t=Object.keys(this._o),n=0;n<t.length;n++){var i=t[n],s=this._o[i];void 0!==s&&(this._props[i]=s)}},i._vars=function(){};var s=n(i);t.default=s,t.ClassProto=s})})}])})},function(t,e,n){t.exports=n(6)},function(t,e,n){var i,s,r,i,s,r;!function(o,u){s=[e,n(4),n(2),n(3),n(1),n(0)],i=u,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(e){"use strict";!function(o,u){s=[e,n(4),n(2),n(3),n(1),n(0)],i=u,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t,e,n,i,s,r){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.Tween=void 0;var u=o(e),a=o(n),p=o(i),c=(0,e.extendClass)(u.default);c._declareDefaults=function(){this._defaults=Object.assign({},s.tweenDefaults)},c.play=function(){return"play"===this._state?this:(this._setState("play"),this._setupPlay(),this._playTime=performance.now(),this._speed=this._props.speed,this)},c.pause=function(){return"pause"===this._state||"stop"===this._state?this:(r.tweener.remove(this),this._setState("pause"),this._speed=1,this)},c.stop=function(t){if("stop"===this._state)return this;var e=!0===this._props.isReverse?1:0,n=void 0!==t?t:e;return this.setProgress(n),this.reset(),this},c.replay=function(t){return this.reset(),this.play(t),this},c.setSpeed=function(t){return this._props.speed=t,"play"===this._state&&(this.setStartTime(),this._speed=t,this._playTime=performance.now()),this},c.reverse=function(){if(this._props.isReverse=!this._props.isReverse,this._reverseCallbacks(),this._elapsed>0){var t=this._props.delay;this._elapsed=this._end-this._spot-(this._elapsed-t)}return this.setStartTime(),this},c.setProgress=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;void 0===this._start&&this.setStartTime();var e=1===t?this._end:this._spot+t*(this._end-this._spot);void 0===this._prevTime&&(this._prevTime=this._start);var n=this._speed;return this._speed=1,this.update(e),this._speed=n,this},c.reset=function(){return r.tweener.remove(this),this._isActive=!1,this._elapsed=0,this._repeatCount=0,this._setState("stop"),delete this._prevTime,this},c._setupPlay=function(){this.setStartTime(),r.tweener.add(this)},c._vars=function(){var t=this._props,e=t.isReverse,n=t.onStart,i=t.onComplete,s=t.onChimeIn,r=t.onChimeOut,o=t.delay,u=t.duration;this._isActive=!1,this._elapsed=0,this._state="stop",this._speed=1,this._time=o+u,this._repeatCount=0,this._cbs=[n,i,0,1],this._chCbs=[s,r],!0===e&&this._reverseCallbacks()},c.setStartTime=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=this._props,n=e.delay,i=e.duration,s=e.shiftTime;this._elapsed>=this._end-this._spot&&(this._elapsed=0),this._spot=t-this._elapsed+s,this._playTime=this._spot,this._start=this._spot+n,this._end=this._start+i},c.update=function(t){var e=this._props,n=e.onUpdate,i=e.isReverse,s=e.easing,r=e.backwardEasing,o=this._playTime+this._speed*(t-this._playTime);this._elapsed=o-this._spot,o<this._start&&this._progress!==this._cbs[2]&&(this._props.onRefresh(!1,this.index,o),this._progress=this._cbs[2]),o>this._end&&this._progress!==this._cbs[3]&&(this._props.onRefresh(!0,this.index,o),this._progress=this._cbs[3]);var u=o>this._prevTime,a=u!==i?s:r;if(o>=this._start&&o<=this._end&&void 0!==this._prevTime){var p=void 0,c=(o-this._start)/this._props.duration;return this._progress=!1===i?c:1-c,n(a(this._progress),this._progress,u,o),o>this._start&&!1===this._isActive&&!0===u&&(this._cbs[0](u,i,this.index),this._chCbs[0](u,i,this.index,o)),o===this._start&&(this._cbs[0](u,i,this.index),this._chCbs[0](u,i,this.index,o),p=u),o<this._end&&!1===this._isActive&&!1===u&&(this._cbs[1](!1,i,this.index),this._chCbs[1](u,i,this.index,o)),o===this._end&&(this._cbs[1](u,i,this.index),this._chCbs[1](u,i,this.index,o),p=!u),this._isActive=void 0===p||p,this._prevTime=o,!this._isActive}return o>this._end&&!0===this._isActive?(this._progress=this._cbs[3],n(a(this._progress),this._progress,u,o),this._cbs[1](u,i,this.index),this._chCbs[1](u,i,this.index,o),this._isActive=!1,this._prevTime=o,!0):o<this._start&&!0===this._isActive?(this._progress=this._cbs[2],n(a(this._progress),this._progress,u,o),this._cbs[0](u,i,this.index),this._chCbs[0](u,i,this.index,o),this._isActive=!1,this._prevTime=o,!0):void(this._prevTime=o)},c._reverseCallbacks=function(){this._cbs=[this._cbs[1],this._cbs[0],this._cbs[3],this._cbs[2]]},c._setState=function(t){this._prevState=this._state,this._state=t;var e="pause"===this._prevState,n="stop"===this._prevState,i="play"===this._prevState,s="reverse"===this._prevState,r=i||s,o=n||e;"play"!==t&&"reverse"!==t||!o||this._props.onPlaybackStart(t,this._prevState),"pause"===t&&r&&this._props.onPlaybackPause(),"stop"===t&&(r||e)&&this._props.onPlaybackStop()},c.onTweenerFinish=function(){var t=this._props,e=t.isReverse,n=t.repeat,i=t.isReverseOnRepeat,s=t.onPlaybackComplete,r=this._repeatCount;if(s(!e,r,n-r),this.reset(),n-r>0){var o=i;o=i instanceof Array?o[r%o.length]:o,"function"==typeof o&&(o=o(r)),o&&this.reverse(),this._repeatCount=r+1,this.play()}},c._extendDefaults=function(){u.default.__mojsClass._extendDefaults.call(this);for(var t=Object.keys(this._props),e=0;e<t.length;e++){var n=t[e];this._props[n]=(0,a.default)(this._props[n],this.index)}this._props.easing=p.default.parseEasing(this._props.easing);var i=this._props,s=i.easing,r=i.backwardEasing;this._props.backwardEasing=null!=r?p.default.parseEasing(r):s};var f=t.Tween=(0,e.createClass)(c);t.default=f})})}])});
//# sourceMappingURL=tween.min.js.map